<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Mockttp | mockttp</title><meta name="description" content="Documentation for mockttp"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">mockttp</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">mockttp</a></li><li><a href="Mockttp.html">Mockttp</a></li></ul><h1>Interface Mockttp</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>A mockttp instance allow you to start and stop mock servers and control their behaviour.</p>
</div><div><p>This should be created using the exported <code>getLocal()</code> or <code>getRemote()</code> methods, like:</p>
<pre><code><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-3">mockServer</span><span class="hl-1"> = </span><span class="hl-4">require</span><span class="hl-1">(</span><span class="hl-5">&#39;mockttp&#39;</span><span class="hl-1">).</span><span class="hl-4">getLocal</span><span class="hl-1">()</span>
</code></pre>
<p>Call <code>.start()</code> to set up a server on a random port, use <code>.forX</code> methods like <code>.forGet(url)</code>,
<code>.forPost(url)</code> and <code>.forAnyRequest()</code> to get a <a href="../classes/RequestRuleBuilder.html">RequestRuleBuilder</a> and start defining
mock rules. You can also mock WebSocket requests using <code>.forAnyWebSocket()</code>. Call <code>.stop()</code>
when your test is complete. An example:</p>
<pre><code><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-0">mockServer</span><span class="hl-1">.</span><span class="hl-4">start</span><span class="hl-1">();</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-0">mockServer</span><span class="hl-1">.</span><span class="hl-4">forGet</span><span class="hl-1">(</span><span class="hl-5">&#39;/abc&#39;</span><span class="hl-1">).</span><span class="hl-4">thenReply</span><span class="hl-1">(</span><span class="hl-7">200</span><span class="hl-1">, </span><span class="hl-5">&quot;a response&quot;</span><span class="hl-1">);</span><br/><span class="hl-8">// ...Make some requests</span><br/><span class="hl-6">await</span><span class="hl-1"> </span><span class="hl-0">mockServer</span><span class="hl-1">.</span><span class="hl-4">stop</span><span class="hl-1">();</span>
</code></pre>
</div></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">Mockttp</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-interface"><a href="Mockttp.html#port" class="tsd-kind-icon">port</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="Mockttp.html#proxyEnv" class="tsd-kind-icon">proxy<wbr/>Env</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="Mockttp.html#url" class="tsd-kind-icon">url</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#addRequestRules" class="tsd-kind-icon">add<wbr/>Request<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#addRules" class="tsd-kind-icon">add<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#addWebSocketRules" class="tsd-kind-icon">add<wbr/>Web<wbr/>Socket<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#anyRequest" class="tsd-kind-icon">any<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#anyWebSocket" class="tsd-kind-icon">any<wbr/>Web<wbr/>Socket</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#delete" class="tsd-kind-icon">delete</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#enableDebug" class="tsd-kind-icon">enable<wbr/>Debug</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forAnyRequest" class="tsd-kind-icon">for<wbr/>Any<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forAnyWebSocket" class="tsd-kind-icon">for<wbr/>Any<wbr/>Web<wbr/>Socket</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forDelete" class="tsd-kind-icon">for<wbr/>Delete</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forGet" class="tsd-kind-icon">for<wbr/>Get</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forHead" class="tsd-kind-icon">for<wbr/>Head</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forOptions" class="tsd-kind-icon">for<wbr/>Options</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forPatch" class="tsd-kind-icon">for<wbr/>Patch</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forPost" class="tsd-kind-icon">for<wbr/>Post</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forPut" class="tsd-kind-icon">for<wbr/>Put</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forUnmatchedRequest" class="tsd-kind-icon">for<wbr/>Unmatched<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#get" class="tsd-kind-icon">get</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#getMockedEndpoints" class="tsd-kind-icon">get<wbr/>Mocked<wbr/>Endpoints</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#getPendingEndpoints" class="tsd-kind-icon">get<wbr/>Pending<wbr/>Endpoints</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#getRuleParameterKeys" class="tsd-kind-icon">get<wbr/>Rule<wbr/>Parameter<wbr/>Keys</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#head" class="tsd-kind-icon">head</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#on" class="tsd-kind-icon">on</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#options" class="tsd-kind-icon">options</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#patch" class="tsd-kind-icon">patch</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#post" class="tsd-kind-icon">post</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#put" class="tsd-kind-icon">put</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#reset" class="tsd-kind-icon">reset</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#setRequestRules" class="tsd-kind-icon">set<wbr/>Request<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#setRules" class="tsd-kind-icon">set<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#setWebSocketRules" class="tsd-kind-icon">set<wbr/>Web<wbr/>Socket<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#start" class="tsd-kind-icon">start</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#stop" class="tsd-kind-icon">stop</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#unmatchedRequest" class="tsd-kind-icon">unmatched<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#urlFor" class="tsd-kind-icon">url<wbr/>For</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="port" class="tsd-anchor"></a><h3 class="tsd-anchor-link">port<a href="#port" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">port<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L94">src/mockttp.ts:94</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The port the server is running on.</p>
</div><div><p>This will throw an error if read before the server is started.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="proxyEnv" class="tsd-anchor"></a><h3 class="tsd-anchor-link">proxy<wbr/>Env<a href="#proxyEnv" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">proxy<wbr/>Env<span class="tsd-signature-symbol">:</span> <a href="ProxyEnvConfig.html" class="tsd-signature-type" data-tsd-kind="Interface">ProxyEnvConfig</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L106">src/mockttp.ts:106</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The environment variables typically needed to use this server as a proxy, in a format you
can add to your environment straight away.</p>
</div><div><p>This will throw an error if read before the server is started.</p>
<pre><code><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-0">env</span><span class="hl-1"> = </span><span class="hl-9">Object</span><span class="hl-1">.</span><span class="hl-4">assign</span><span class="hl-1">(</span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-0">env</span><span class="hl-1">, </span><span class="hl-0">mockServer</span><span class="hl-1">.</span><span class="hl-0">proxyEnv</span><span class="hl-1">)</span>
</code></pre>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="url" class="tsd-anchor"></a><h3 class="tsd-anchor-link">url<a href="#url" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">url<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L80">src/mockttp.ts:80</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The root URL of the server.</p>
</div><div><p>This will throw an error if read before the server is started.</p>
</div></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="addRequestRules" class="tsd-anchor"></a><h3 class="tsd-anchor-link">add<wbr/>Request<wbr/>Rules<a href="#addRequestRules" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">add<wbr/>Request<wbr/>Rules<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>ruleData<span class="tsd-signature-symbol">: </span><a href="RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L435">src/mockttp.ts:435</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the given rules to the server.</p>
</div><div><p>This API is only useful if you&#39;re manually building rules, rather than
using RequestRuleBuilder, and is only for special cases. This approach may
be necessary if you need to configure all your rules in one place to
enable them elsewhere/later.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>ruleData: <a href="RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="addRules" class="tsd-anchor"></a><h3 class="tsd-anchor-link">add<wbr/>Rules<a href="#addRules" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">add<wbr/>Rules<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>ruleData<span class="tsd-signature-symbol">: </span><a href="RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L451">src/mockttp.ts:451</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>alias for <code>addRequestRules</code></p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>ruleData: <a href="RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="addWebSocketRules" class="tsd-anchor"></a><h3 class="tsd-anchor-link">add<wbr/>Web<wbr/>Socket<wbr/>Rules<a href="#addWebSocketRules" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">add<wbr/>Web<wbr/>Socket<wbr/>Rules<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>ruleData<span class="tsd-signature-symbol">: </span><a href="WebSocketRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketRuleData</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L466">src/mockttp.ts:466</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Adds the given websocket rules to the server.</p>
</div><div><p>This API is only useful if you&#39;re manually building rules, rather than
using RequestRuleBuilder, and is only for special cases. This approach may
be necessary if you need to configure all your rules in one place to
enable them elsewhere/later.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>ruleData: <a href="WebSocketRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketRuleData</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="anyRequest" class="tsd-anchor"></a><h3 class="tsd-anchor-link">any<wbr/>Request<a href="#anyRequest" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">any<wbr/>Request<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L119">src/mockttp.ts:119</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>Use <code>.forAnyRequest()</code> instead.</p>
</dd></dl></div><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="anyWebSocket" class="tsd-anchor"></a><h3 class="tsd-anchor-link">any<wbr/>Web<wbr/>Socket<a href="#anyWebSocket" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">any<wbr/>Web<wbr/>Socket<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/WebSocketRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">WebSocketRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L330">src/mockttp.ts:330</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>Use <code>.forAnyWebSocket()</code> instead.</p>
</dd></dl></div><h4 class="tsd-returns-title">Returns <a href="../classes/WebSocketRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">WebSocketRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="delete" class="tsd-anchor"></a><h3 class="tsd-anchor-link">delete<a href="#delete" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">delete<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L236">src/mockttp.ts:236</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>Use <code>.forDelete()</code> instead.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="enableDebug" class="tsd-anchor"></a><h3 class="tsd-anchor-link">enable<wbr/>Debug<a href="#enableDebug" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">enable<wbr/>Debug<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L67">src/mockttp.ts:67</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Enable extra debug output so you can understand exactly what the server is doing.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="forAnyRequest" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Any<wbr/>Request<a href="#forAnyRequest" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">for<wbr/>Any<wbr/>Request<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L114">src/mockttp.ts:114</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match any requests on any path.</p>
</div><div><p>This only matches traditional HTTP requests, not websockets, which are handled
separately. To match websockets, use <code>.forAnyWebSocket()</code>.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="forAnyWebSocket" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Any<wbr/>Web<wbr/>Socket<a href="#forAnyWebSocket" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">for<wbr/>Any<wbr/>Web<wbr/>Socket<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/WebSocketRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">WebSocketRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L325">src/mockttp.ts:325</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match all websocket connections.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="../classes/WebSocketRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">WebSocketRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="forDelete" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Delete<a href="#forDelete" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">for<wbr/>Delete<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L231">src/mockttp.ts:231</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match DELETE requests for the given path.
If no path is specified, this matches all DELETE requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="forGet" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Get<a href="#forGet" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">for<wbr/>Get<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L156">src/mockttp.ts:156</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match GET requests for the given path.
If no path is specified, this matches all GET requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="forHead" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Head<a href="#forHead" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">for<wbr/>Head<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L281">src/mockttp.ts:281</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match HEAD requests for the given path.
If no path is specified, this matches all HEAD requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="forOptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Options<a href="#forOptions" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">for<wbr/>Options<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L315">src/mockttp.ts:315</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match OPTIONS requests for the given path.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
<p>This can only be used if the <code>cors</code> option has been set to false.</p>
<p>If cors is true (the default when using a remote client, e.g. in the browser),
then the mock server automatically handles OPTIONS requests to ensure requests
to the server are allowed by clients observing CORS rules.</p>
<p>You can pass <code>{cors: false}</code> to <code>getLocal</code>/<code>getRemote</code> to disable this behaviour,
but if you&#39;re testing in a browser you will need to ensure you mock all OPTIONS
requests appropriately so that the browser allows your other requests to be sent.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="forPatch" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Patch<a href="#forPatch" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">for<wbr/>Patch<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L256">src/mockttp.ts:256</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match PATCH requests for the given path.
If no path is specified, this matches all PATCH requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="forPost" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Post<a href="#forPost" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">for<wbr/>Post<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L181">src/mockttp.ts:181</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match POST requests for the given path.
If no path is specified, this matches all POST requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="forPut" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Put<a href="#forPut" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">for<wbr/>Put<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L206">src/mockttp.ts:206</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a mock rule that will match PUT requests for the given path.
If no path is specified, this matches all PUT requests.</p>
</div><div><p>The path can be either a string, or a regular expression to match against.
Path matching always ignores query parameters. To match query parameters,
use .withQuery({ a: &#39;b&#39; }) or withExactQuery(&#39;?a=b&#39;).</p>
<p>There are a few supported matching formats:</p>
<ul>
<li>Relative string paths (<code>/abc</code>) will be compared only to the request&#39;s path,
independent of the host &amp; protocol, ignoring query params.</li>
<li>Absolute string paths with no protocol (<code>localhost:8000/abc</code>) will be
compared to the URL independent of the protocol, ignoring query params.</li>
<li>Fully absolute string paths (<code>http://localhost:8000/abc</code>) will be compared
to entire URL, ignoring query params.</li>
<li>Regular expressions can match the absolute URL: <code>/^http:\/\/localhost:8000\/abc$/</code></li>
<li>Regular expressions can also match the path: <code>/^\/abc/</code></li>
</ul>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="forUnmatchedRequest" class="tsd-anchor"></a><h3 class="tsd-anchor-link">for<wbr/>Unmatched<wbr/>Request<a href="#forUnmatchedRequest" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">for<wbr/>Unmatched<wbr/>Request<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L131">src/mockttp.ts:131</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Get a builder for a fallback mock rule that will match any unmatched requests
on any path. A fallback rule will only match if there is no existing rule at
all matching the request, or all existing rules have an explicit limit (like
<code>once()</code>) that has been completed.</p>
</div><div><p>Only one unmatched request rule can be registered, and it cannot include any
matchers. In either of these cases, when the final <code>thenX()</code> method is called,
a rejected promise will be returned.</p>
</div></div><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="get" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<a href="#get" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">get<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L161">src/mockttp.ts:161</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>Use <code>.forGet()</code> instead.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="getMockedEndpoints" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Mocked<wbr/>Endpoints<a href="#getMockedEndpoints" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">get<wbr/>Mocked<wbr/>Endpoints<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L482">src/mockttp.ts:482</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns the set of currently registered mock endpoints.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="getPendingEndpoints" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Pending<wbr/>Endpoints<a href="#getPendingEndpoints" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">get<wbr/>Pending<wbr/>Endpoints<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L489">src/mockttp.ts:489</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns the set of registered but pending mock endpoints: endpoints which either
haven&#39;t seen the specified number of requests (if one was specified
e.g. with .twice()) or which haven&#39;t seen at least one request, by default.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="getRuleParameterKeys" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Rule<wbr/>Parameter<wbr/>Keys<a href="#getRuleParameterKeys" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">get<wbr/>Rule<wbr/>Parameter<wbr/>Keys<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L501">src/mockttp.ts:501</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>List the names of the rule parameters available for rule definitions. These
parameters are defined by the standalone server. This list can be used in some
advanced use cases to confirm beforehand that the parameters a client wishes to
reference are available.</p>
</div><div><p>Only relevant to remote/browser Mockttp usage. Servers created directly without any
standalone server have no rule parameters defined, and so this method will always
return an empty list.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="head" class="tsd-anchor"></a><h3 class="tsd-anchor-link">head<a href="#head" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">head<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L286">src/mockttp.ts:286</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>Use <code>.forHead()</code> instead.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="on" class="tsd-anchor"></a><h3 class="tsd-anchor-link">on<a href="#on" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;request-initiated&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;request&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;response&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;abort&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;tls-client-error&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;tlsClientError&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;client-error&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><a href="ClientError.html" class="tsd-signature-type" data-tsd-kind="Interface">ClientError</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L343">src/mockttp.ts:343</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about request details as soon as the initial request details
(method, path &amp; headers) are received, without waiting for the body.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all requests seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;request-initiated&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L355">src/mockttp.ts:355</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about request details once the request is fully received.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all requests seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;request&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="CompletedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedRequest</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L367">src/mockttp.ts:367</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about response details when the response is completed.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all requests seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;response&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="CompletedResponse.html" class="tsd-signature-type" data-tsd-kind="Interface">CompletedResponse</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L380">src/mockttp.ts:380</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about requests that are aborted before the request or
response is fully completed.</p>
</div><div><p>This is only useful in some niche use cases, such as logging all requests seen
by the server independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;abort&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="InitiatedRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">InitiatedRequest</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L399">src/mockttp.ts:399</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about requests that start a TLS handshake, but fail to complete it.
Not all clients report TLS errors explicitly, so this event fires for explicitly
reported TLS errors, and for TLS connections that are immediately closed with no
data sent.</p>
</div><div><p>This is typically useful to detect clients who aren&#39;t correctly configured to trust
the configured HTTPS certificate. The callback is given the host name provided
by the client via SNI, if SNI was used (it almost always is).</p>
<p>This is only useful in some niche use cases, such as logging all requests seen
by the server, independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;tls-client-error&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L405">src/mockttp.ts:405</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Deprecated alias for tls-client-error event</p>
</div><dl class="tsd-comment-tags"><dt>deprecated</dt><dd></dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;tlsClientError&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><a href="TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <a href="TlsRequest.html" class="tsd-signature-type" data-tsd-kind="Interface">TlsRequest</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L425">src/mockttp.ts:425</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Subscribe to hear about requests that fail before successfully sending their
initial parameters (the request line &amp; headers). This will fire for requests
that drop connections early, send invalid or too-long headers, or aren&#39;t
correctly parseable in some form.</p>
</div><div><p>This is typically useful to detect clients who aren&#39;t correctly configured.
The callback is given an object containing the request (as we were best
able to parse it) and either the error response returned, or &#39;aborted&#39;
if the connection was disconnected before the server could respond.</p>
<p>This is only useful in some niche use cases, such as logging all requests
seen by the server, independently of the rules defined.</p>
<p>The callback will be called asynchronously from request handling. This function
returns a promise, and the callback is not guaranteed to be registered until
the promise is resolved.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;client-error&quot;</span></h5></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><a href="ClientError.html" class="tsd-signature-type" data-tsd-kind="Interface">ClientError</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><a href="ClientError.html" class="tsd-signature-type" data-tsd-kind="Interface">ClientError</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>error: <a href="ClientError.html" class="tsd-signature-type" data-tsd-kind="Interface">ClientError</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">options<a href="#options" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">options<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L320">src/mockttp.ts:320</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>Use <code>.forOptions()</code> instead.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="patch" class="tsd-anchor"></a><h3 class="tsd-anchor-link">patch<a href="#patch" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">patch<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L261">src/mockttp.ts:261</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>Use <code>.forPatch()</code> instead.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="post" class="tsd-anchor"></a><h3 class="tsd-anchor-link">post<a href="#post" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">post<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L186">src/mockttp.ts:186</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>Use <code>.forPost()</code> instead.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="put" class="tsd-anchor"></a><h3 class="tsd-anchor-link">put<a href="#put" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">put<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L211">src/mockttp.ts:211</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>Use <code>.forPut()</code> instead.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">RegExp</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="reset" class="tsd-anchor"></a><h3 class="tsd-anchor-link">reset<a href="#reset" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">reset<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L73">src/mockttp.ts:73</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Reset the stored rules. Most of the time it&#39;s better to start &amp; stop the server instead,
but this can be useful in some special cases.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="setRequestRules" class="tsd-anchor"></a><h3 class="tsd-anchor-link">set<wbr/>Request<wbr/>Rules<a href="#setRequestRules" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">set<wbr/>Request<wbr/>Rules<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>ruleData<span class="tsd-signature-symbol">: </span><a href="RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L446">src/mockttp.ts:446</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Set the given rules as the only rules on the server, replacing any
existing rules (except websocket rules).</p>
</div><div><p>This API is only useful if you&#39;re manually building rules, rather than
using RequestRuleBuilder, and is only for special cases. This approach may
be necessary if you need to configure all your rules in one place to
enable them elsewhere/later.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>ruleData: <a href="RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="setRules" class="tsd-anchor"></a><h3 class="tsd-anchor-link">set<wbr/>Rules<a href="#setRules" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">set<wbr/>Rules<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>ruleData<span class="tsd-signature-symbol">: </span><a href="RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L456">src/mockttp.ts:456</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>alias for <code>setRequestRules</code></p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>ruleData: <a href="RequestRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestRuleData</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="setWebSocketRules" class="tsd-anchor"></a><h3 class="tsd-anchor-link">set<wbr/>Web<wbr/>Socket<wbr/>Rules<a href="#setWebSocketRules" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">set<wbr/>Web<wbr/>Socket<wbr/>Rules<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>ruleData<span class="tsd-signature-symbol">: </span><a href="WebSocketRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketRuleData</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L477">src/mockttp.ts:477</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Set the given websocket rules as the only websocket rules on the server,
replacing all existing websocket rules (but leaving normal rules untouched).</p>
</div><div><p>This API is only useful if you&#39;re manually building rules, rather than
using RequestRuleBuilder, and is only for special cases. This approach may
be necessary if you need to configure all your rules in one place to
enable them elsewhere/later.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>ruleData: <a href="WebSocketRuleData.html" class="tsd-signature-type" data-tsd-kind="Interface">WebSocketRuleData</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="MockedEndpoint.html" class="tsd-signature-type" data-tsd-kind="Interface">MockedEndpoint</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="start" class="tsd-anchor"></a><h3 class="tsd-anchor-link">start<a href="#start" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">start<span class="tsd-signature-symbol">(</span>port<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><a href="../modules.html#PortRange" class="tsd-signature-type" data-tsd-kind="Type alias">PortRange</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L57">src/mockttp.ts:57</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Start a mock server.</p>
</div><div><p>Specify a fixed port if you need one.</p>
<p>If you don&#39;t, a random port will be chosen, which you can get later with <code>.port</code>,
or by using <code>.url</code> and <code>.urlFor(path)</code> to generate your URLs automatically.</p>
<p>If you need to allow port selection, but in a specific range, pass a
{ startPort, endPort } pair to define the allowed (inclusive) range.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> port: <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> | </span><a href="../modules.html#PortRange" class="tsd-signature-type" data-tsd-kind="Type alias">PortRange</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="stop" class="tsd-anchor"></a><h3 class="tsd-anchor-link">stop<a href="#stop" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">stop<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L62">src/mockttp.ts:62</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Stop the mock server and reset the rules.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="unmatchedRequest" class="tsd-anchor"></a><h3 class="tsd-anchor-link">unmatched<wbr/>Request<a href="#unmatchedRequest" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">unmatched<wbr/>Request<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L136">src/mockttp.ts:136</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>Use <code>.forUnmatchedRequest()</code> instead.</p>
</dd></dl></div><h4 class="tsd-returns-title">Returns <a href="../classes/RequestRuleBuilder.html" class="tsd-signature-type" data-tsd-kind="Class">RequestRuleBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="urlFor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">url<wbr/>For<a href="#urlFor" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">url<wbr/>For<span class="tsd-signature-symbol">(</span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L87">src/mockttp.ts:87</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The URL for a given path on the server.</p>
</div><div><p>This will throw an error if read before the server is started.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>path: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="../modules/completionCheckers.html">completion<wbr/>Checkers</a></li><li class=" tsd-kind-namespace"><a href="../modules/matchers.html">matchers</a></li><li class=" tsd-kind-namespace"><a href="../modules/requestHandlers.html">request<wbr/>Handlers</a></li><li class=" tsd-kind-namespace"><a href="../modules/webSocketHandlers.html">web<wbr/>Socket<wbr/>Handlers</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-interface"><a href="Mockttp.html" class="tsd-kind-icon">Mockttp</a><ul><li class="tsd-kind-property tsd-parent-kind-interface"><a href="Mockttp.html#port" class="tsd-kind-icon">port</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="Mockttp.html#proxyEnv" class="tsd-kind-icon">proxy<wbr/>Env</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="Mockttp.html#url" class="tsd-kind-icon">url</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#addRequestRules" class="tsd-kind-icon">add<wbr/>Request<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#addRules" class="tsd-kind-icon">add<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#addWebSocketRules" class="tsd-kind-icon">add<wbr/>Web<wbr/>Socket<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#anyRequest" class="tsd-kind-icon">any<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#anyWebSocket" class="tsd-kind-icon">any<wbr/>Web<wbr/>Socket</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#delete" class="tsd-kind-icon">delete</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#enableDebug" class="tsd-kind-icon">enable<wbr/>Debug</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forAnyRequest" class="tsd-kind-icon">for<wbr/>Any<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forAnyWebSocket" class="tsd-kind-icon">for<wbr/>Any<wbr/>Web<wbr/>Socket</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forDelete" class="tsd-kind-icon">for<wbr/>Delete</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forGet" class="tsd-kind-icon">for<wbr/>Get</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forHead" class="tsd-kind-icon">for<wbr/>Head</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forOptions" class="tsd-kind-icon">for<wbr/>Options</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forPatch" class="tsd-kind-icon">for<wbr/>Patch</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forPost" class="tsd-kind-icon">for<wbr/>Post</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forPut" class="tsd-kind-icon">for<wbr/>Put</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#forUnmatchedRequest" class="tsd-kind-icon">for<wbr/>Unmatched<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#get" class="tsd-kind-icon">get</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#getMockedEndpoints" class="tsd-kind-icon">get<wbr/>Mocked<wbr/>Endpoints</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#getPendingEndpoints" class="tsd-kind-icon">get<wbr/>Pending<wbr/>Endpoints</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#getRuleParameterKeys" class="tsd-kind-icon">get<wbr/>Rule<wbr/>Parameter<wbr/>Keys</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#head" class="tsd-kind-icon">head</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#on" class="tsd-kind-icon">on</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#options" class="tsd-kind-icon">options</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#patch" class="tsd-kind-icon">patch</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#post" class="tsd-kind-icon">post</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#put" class="tsd-kind-icon">put</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#reset" class="tsd-kind-icon">reset</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#setRequestRules" class="tsd-kind-icon">set<wbr/>Request<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#setRules" class="tsd-kind-icon">set<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#setWebSocketRules" class="tsd-kind-icon">set<wbr/>Web<wbr/>Socket<wbr/>Rules</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#start" class="tsd-kind-icon">start</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#stop" class="tsd-kind-icon">stop</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#unmatchedRequest" class="tsd-kind-icon">unmatched<wbr/>Request</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="Mockttp.html#urlFor" class="tsd-kind-icon">url<wbr/>For</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>