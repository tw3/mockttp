<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ResponseTransform | mockttp</title><meta name="description" content="Documentation for mockttp"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">mockttp</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">mockttp</a></li><li><a href="../modules/requestHandlers.html">requestHandlers</a></li><li><a href="requestHandlers.ResponseTransform.html">ResponseTransform</a></li></ul><h1>Interface ResponseTransform</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">ResponseTransform</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#replaceBody" class="tsd-kind-icon">replace<wbr/>Body</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#replaceBodyFromFile" class="tsd-kind-icon">replace<wbr/>Body<wbr/>From<wbr/>File</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#replaceHeaders" class="tsd-kind-icon">replace<wbr/>Headers</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#replaceStatus" class="tsd-kind-icon">replace<wbr/>Status</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#updateHeaders" class="tsd-kind-icon">update<wbr/>Headers</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#updateJsonBody" class="tsd-kind-icon">update<wbr/>Json<wbr/>Body</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="replaceBody" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> replace<wbr/>Body<a href="#replaceBody" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">replace<wbr/>Body<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Buffer</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Uint8Array</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/rules/requests/request-handlers.ts#L690">src/rules/requests/request-handlers.ts:690</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A string or buffer that replaces the response body entirely.</p>
</div><div><p>If this is specified, the downstream response will not wait for the original response
body, so this may make responses arrive faster than they would be otherwise given large
response bodies or slow/streaming servers.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="replaceBodyFromFile" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> replace<wbr/>Body<wbr/>From<wbr/>File<a href="#replaceBodyFromFile" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">replace<wbr/>Body<wbr/>From<wbr/>File<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/rules/requests/request-handlers.ts#L701">src/rules/requests/request-handlers.ts:701</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The path to a file, which will be used to replace the response body entirely. The
file will be re-read for each response, so the body will always reflect the latest
file contents.</p>
</div><div><p>If this is specified, the downstream response will not wait for the original response
body, so this may make responses arrive faster than they would be otherwise given large
response bodies or slow/streaming servers.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="replaceHeaders" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> replace<wbr/>Headers<a href="#replaceHeaders" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">replace<wbr/>Headers<span class="tsd-signature-symbol">?:</span> <a href="Headers.html" class="tsd-signature-type" data-tsd-kind="Interface">Headers</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/rules/requests/request-handlers.ts#L681">src/rules/requests/request-handlers.ts:681</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A headers object which will completely replace the real response headers.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="replaceStatus" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> replace<wbr/>Status<a href="#replaceStatus" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">replace<wbr/>Status<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/rules/requests/request-handlers.ts#L670">src/rules/requests/request-handlers.ts:670</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A replacement response status code.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="updateHeaders" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> update<wbr/>Headers<a href="#updateHeaders" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">update<wbr/>Headers<span class="tsd-signature-symbol">?:</span> <a href="Headers.html" class="tsd-signature-type" data-tsd-kind="Interface">Headers</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/rules/requests/request-handlers.ts#L676">src/rules/requests/request-handlers.ts:676</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A headers object which will be merged with the real response headers to add or
replace values. Headers with undefined values will be removed.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="updateJsonBody" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> update<wbr/>Json<wbr/>Body<a href="#updateJsonBody" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">update<wbr/>Json<wbr/>Body<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{}</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/rules/requests/request-handlers.ts#L708">src/rules/requests/request-handlers.ts:708</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A JSON object which will be merged with the real response body. Undefined values
will be removed. Any responses which are received with an invalid JSON body that
match this rule will fail.</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span>key: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">any</span></h5></li></ul></div></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="../modules/completionCheckers.html">completion<wbr/>Checkers</a></li><li class=" tsd-kind-namespace"><a href="../modules/matchers.html">matchers</a></li><li class="current tsd-kind-namespace"><a href="../modules/requestHandlers.html">request<wbr/>Handlers</a></li><li class=" tsd-kind-namespace"><a href="../modules/webSocketHandlers.html">web<wbr/>Socket<wbr/>Handlers</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-interface tsd-parent-kind-namespace"><a href="requestHandlers.ResponseTransform.html" class="tsd-kind-icon">Response<wbr/>Transform</a><ul><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#replaceBody" class="tsd-kind-icon">replace<wbr/>Body</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#replaceBodyFromFile" class="tsd-kind-icon">replace<wbr/>Body<wbr/>From<wbr/>File</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#replaceHeaders" class="tsd-kind-icon">replace<wbr/>Headers</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#replaceStatus" class="tsd-kind-icon">replace<wbr/>Status</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#updateHeaders" class="tsd-kind-icon">update<wbr/>Headers</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="requestHandlers.ResponseTransform.html#updateJsonBody" class="tsd-kind-icon">update<wbr/>Json<wbr/>Body</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>