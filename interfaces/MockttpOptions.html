<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>MockttpOptions | mockttp</title><meta name="description" content="Documentation for mockttp"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">mockttp</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">mockttp</a></li><li><a href="MockttpOptions.html">MockttpOptions</a></li></ul><h1>Interface MockttpOptions</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">MockttpOptions</span><ul class="tsd-hierarchy"><li><a href="MockttpClientOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">MockttpClientOptions</a></li></ul></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#cors" class="tsd-kind-icon">cors</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#debug" class="tsd-kind-icon">debug</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#http2" class="tsd-kind-icon">http2</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#https" class="tsd-kind-icon">https</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#ignoreWebsocketHostCertificateErrors" class="tsd-kind-icon">ignore<wbr/>Websocket<wbr/>Host<wbr/>Certificate<wbr/>Errors</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#maxBodySize" class="tsd-kind-icon">max<wbr/>Body<wbr/>Size</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#recordTraffic" class="tsd-kind-icon">record<wbr/>Traffic</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#suggestChanges" class="tsd-kind-icon">suggest<wbr/>Changes</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="cors" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> cors<a href="#cors" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">cors<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">CorsOptions</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L513">src/mockttp.ts:513</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Should the server automatically respond to OPTIONS requests with a permissive
response?</p>
</div><div><p>Defaults to true for remote clients (e.g. in the browser), and false otherwise.
If this is set to false, browser requests will typically fail unless you
stub OPTIONS responses by hand.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="debug" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> debug<a href="#debug" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">debug<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L518">src/mockttp.ts:518</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Should the server print extra debug information?</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="http2" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> http2<a href="#http2" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">http2<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;fallback&quot;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L539">src/mockttp.ts:539</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Should HTTP/2 be enabled? Can be true, false, or &#39;fallback&#39;. If true,
HTTP/2 is used for all clients supporting it. If false, HTTP/2 is never
used. If &#39;fallback&#39; HTTP/2 is used only for clients that do not advertise
support for HTTP/1.1, but HTTP/1.1 is used by preference in all other
cases.</p>
</div><div><p>Client HTTP/2 support is only advertised as part of the TLS options.
When no HTTPS configuration is provided, &#39;fallback&#39; is equivalent to
false.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="https" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> https<a href="#https" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">https<span class="tsd-signature-symbol">?:</span> <a href="../modules.html#CAOptions" class="tsd-signature-type" data-tsd-kind="Type alias">CAOptions</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L526">src/mockttp.ts:526</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The HTTPS settings to be used. Optional, only HTTP interception will be
enabled if omitted. This should be set to either a { key, cert } object
containing the private key and certificate in PEM format, or a { keyPath,
certPath } object containing the path to files containing that content.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="ignoreWebsocketHostCertificateErrors" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> ignore<wbr/>Websocket<wbr/>Host<wbr/>Certificate<wbr/>Errors<a href="#ignoreWebsocketHostCertificateErrors" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">ignore<wbr/>Websocket<wbr/>Host<wbr/>Certificate<wbr/>Errors<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L563">src/mockttp.ts:563</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Specify a list of hostnames and/or specific host:port addresses, for which
certificate errors should be ignored, allowing the use of self-signed or
otherwise invalid WSS certificates.</p>
</div><div><p>This was a temporary API, it&#39;s now deprecated, and it will be removed in
future. <code>anyWebSocket().thenPassThrough({ ignoreHostCertificateErrors: [...] })</code>
should be used instead, to handle this with a rule in the same way that
HTTP passthrough certificate errors are handled.</p>
</div><dl class="tsd-comment-tags"><dt>deprecated</dt><dd><p>Use anyWebSocket to handle websockets explicitly instead.</p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="maxBodySize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> max<wbr/>Body<wbr/>Size<a href="#maxBodySize" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">max<wbr/>Body<wbr/>Size<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L589">src/mockttp.ts:589</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The maximum body size to process, in bytes.</p>
</div><div><p>Bodies larger than this will be dropped, becoming empty, so they won&#39;t match
body matchers, won&#39;t be available in .seenRequests, and won&#39;t be included in
subscribed event data. Body data will still typically be included in passed
through request &amp; response data, in most cases, so this won&#39;t affect the
external HTTP clients otherwise.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="recordTraffic" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> record<wbr/>Traffic<a href="#recordTraffic" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">record<wbr/>Traffic<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L578">src/mockttp.ts:578</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Record the requests &amp; response for all traffic matched by each rule, and make
it available via endpoint.getSeenRequests().</p>
</div><div><p>Defaults to true. It can be useful to set this to false if lots of data will
be sent to/via the server, to avoid storing all traffic in memory unnecessarily,
if getSeenRequests will not be used.</p>
<p>If this is set to false then getSeenRequests() will always return
an empty array. This only disables the built-in persistence of request data,
so traffic can still be captured live or stored elsewhere using
.on(&#39;request&#39;) &amp; .on(&#39;response&#39;).</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="suggestChanges" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> suggest<wbr/>Changes<a href="#suggestChanges" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">suggest<wbr/>Changes<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/httptoolkit/mockttp/blob/a6c8e15/src/mockttp.ts#L549">src/mockttp.ts:549</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>By default, requests that match no rules will receive an explanation of the
request &amp; existing rules, followed by some suggested example Mockttp code
which could be used to match the rule.</p>
</div><div><p>In some cases where the end client is unaware of Mockttp, these example
suggestions are just confusing. Set <code>suggestChanges</code> to false to disable it.</p>
</div></div></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="../modules/completionCheckers.html">completion<wbr/>Checkers</a></li><li class=" tsd-kind-namespace"><a href="../modules/matchers.html">matchers</a></li><li class=" tsd-kind-namespace"><a href="../modules/requestHandlers.html">request<wbr/>Handlers</a></li><li class=" tsd-kind-namespace"><a href="../modules/webSocketHandlers.html">web<wbr/>Socket<wbr/>Handlers</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-interface"><a href="MockttpOptions.html" class="tsd-kind-icon">Mockttp<wbr/>Options</a><ul><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#cors" class="tsd-kind-icon">cors</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#debug" class="tsd-kind-icon">debug</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#http2" class="tsd-kind-icon">http2</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#https" class="tsd-kind-icon">https</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#ignoreWebsocketHostCertificateErrors" class="tsd-kind-icon">ignore<wbr/>Websocket<wbr/>Host<wbr/>Certificate<wbr/>Errors</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#maxBodySize" class="tsd-kind-icon">max<wbr/>Body<wbr/>Size</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#recordTraffic" class="tsd-kind-icon">record<wbr/>Traffic</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="MockttpOptions.html#suggestChanges" class="tsd-kind-icon">suggest<wbr/>Changes</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>